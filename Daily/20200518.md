# 🌿 20200518

* 흑흑 열심히 짠 테스트 코드는 잘못 작성한 코드였음을... 쥬르륵. 내가 잘못 짠 포인트는 대강 이렇다. util 함수를 작성하고 util 함수를 stub을 이용해서 테스트를 작성했다. 그런 다음 이 util 함수를 적용하는 부분에서는 내가 만든 이 util 함수에 대해서 stub을 해야 하건만 이 테스트를 작성하는 데 마음을 빼앗긴 나머지... ^^ ;; util 함수 stub 해야 하는 부분에서 util 내부의 함수를 stub을 해 버린 것이다........ 테스트 코드가 짱 길어진 건 당연한 일 ;; 
* 또 테스트 코드를 작성하면서 다른 테스트 코드를 참고하면서 내 마음대로 짠 코드를 뜯어 고쳤는데, 그 이유는 mongoose를 이용한 model을 사용하면서 find 함수를 stub 했는데, 사실 이런 부분들, 즉 내가 작성한 코드가 아니고 그 내부 구현을 알기 어려운 이런 것들을 사용할 때는 가능하다면 그대로 사용할 수 있는 부분은 그대로 사용하자는 것. 사실 mongoose는 save하고 afterEach에서 deleteMany 처리만 해준다면 테스트할 때는 그냥 사용할 수 있으니까? 흠.
* 리뷰 받고 수정하고 테스트 돌려서 음~ 잘 수정됐군, 다음 거 수정, 테스트 돌리기, 다음 거 수정, 테스트 돌리기. 테스트 코드가 잘 돌아가는지 확인하면서 리팩토링하는 것이 왜 좋은가를 ... 경험 .... ? ㅎ
* 오늘부터 스터디 다시 시작. 저번 주에는 방학 겸사 겸사 월-금 공부 안 하고 일만 했다 ^! ^ ㅎ 일 많다. ㅎ



### Today I Read

* [코드 품질을 높여주는 테스트 주도 개발 알아보기](https://www.samsungsds.com/global/ko/support/insights/Test-Driven-Development.html)