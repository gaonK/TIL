# 02. 의사소통과 언어 사용

도메인 모델은 소프트웨어 프로젝트를 위한 공통 언어의 핵심이 될 수 있다.
모델은 프로젝트에 참여한 사람들의 머릿속에 축적된 개념을 모아둔 것으로, 도메인에 대한 통찰력을 반영하는 용어와 관계로 표현된다.
용어와 상호관계는 기술적인 개발을 할 수 있을만큼 충분히 정확하고 도메인에 맞게 조정된 언어의 의미를 제공한다.

모델을 기반으로 한 의사소통은 통합 모델링 언어(Unified Modeling Language, UML)상의 다이어그램으로 한정돼서는 안 된다.
모델은 모든 의사소통 수단에 스며들어야 한다.

## UBIQUITOUS LANGUAGE

#### 언어 분열

* 프로젝트에서 사용하는 언어가 분열되면 심각한 문제가 발생한다. 도메인 전문가는 자신의 전문 용어를 사용하고 기술적인 업무를 맡은 팀원들은 설계 측면에서 도메인에 관한 토론에 적합한 자신들만의 언어를 사용한다.
* 일상적인 토론에서 쓰이는 용어가 코드에 녹아든 용어와 단절된다. 
같은 사람인데도 말할 때나 글을 쓸 때 서로 다른 용어를 써서 도메인의 가장 간결하고 명확한 표현이 일시적으로 나타났다가 코드나 문서에도 담기지 않는 결과가 나타나기도 한다.
* 번역은 의사소통을 무디게 하고 지식 탐구를 빈약하게 만든다.
* 일부만 쓰는 언어는 모두의 필요를 충족하지 못하므로 공통 언어가 될 수 없다.

UBIQUITOUS LANGUAGE를 구성하는 어휘에는 클래스와 주요한 연산의 이름이 있다.
모델 내에서 명시적으로 드러나는 규칙을 토론하기 위한 용어가 포함되고, 모델에 부과된 높은 수준의 구성 원칙에서 비롯된 용어가 더해진다.
모델의 관계는 모든 언어에 내재된 결합 규칙이 된다.
또한 팀에서 일반적으로 도메인 모델에 적용하는 패턴의 이름으로 풍부해진다.

이러한 모델 기반 언어는 개발자들 사이에서 업무와 기능을 기술할 때도 사용해야 한다. 언어가 널리 사용될수록 더욱 원활하게 이해할 수 잇다.

초기 모델은 이러한 활동을 하는데 적합하지 않을 수 있지만 팀 전체가 헌신하는 지식 탐구 과정으로 쓸모 있는 모델을 만들어간다.
UBIQUITOUS LANGUAGE를 사용하다 보면 모델의 취약점이 드러난다.


#### UBIQUITOUS LANGUAGE와 모델

* 모델을 언어의 근간으로 사용하라. 팀 내 모든 의사소통과 코드에서 해당 언어를 끊임없이 적용하는 데 전념하라. 
다이어그램과 문서에서, 특히 말할 때 동일한 언어를 사용하라.
* 대안 모델을 반영하는 대안이 되는 표현을 시도해 봄으로써 어려움을 해소하라. 
그런 다음 새로운 모델에 맞게끔 클래스, 메서드, 모듈의 이름을 다시 지으면서 코드를 리팩터링하라. 
일상적으로 쓰는 단어의 의미에 동의를 이끌어내는 것과 같은 방식으로 대화할 때 쓰는 용어의 혼란도 해결하라.
* UBIQUITOUS LANGUAGE의 변화가 곧 모델의 변화라는 것을 인식하라.
* 도메인 전문가는 도메인을 이해하는 데 부자연스럽고 부정확한 용어나 구조에 대해 반대 의사를 표명해야 한다.
개발자는 설계를 어렵게 만드는 모호함과 불일치를 찾아내는 데 촉각을 곤두세워야 한다.

## 크게 소리내어 모델링하기

모델을 정제하는 가장 좋은 방법은 가능한 모델 변형을 구성하는 다양한 요소를 큰 소리로 말하면서 말하기를 통해 살펴보는 것이다.
도메인 모델에 사용된 UBIQUITOUS LANGUAGE를 논의할 때 사용하면 해당 언어를 더 유창하게 구사하며 언어의 미묘한 차이까지 가르칠 수 있다.

시스템에 관해 이야기를 주고 받을 때 모델을 사용하라. 모델의 요소와 상호작용을 이용하고 모델이 허용하는 범위에 개념을 조합하면서 시나리오를 큰 소리로 말해보라.
표현해야 할 것을 더 쉽게 말하는 방법을 찾아낸 다음 그러한 새로운 아이디어를 다이어그램과 코드에 적용하라.


## 한 팀, 한 언어

수준 높은 도메인 전문가가 모델을 이해하지 못한다면 모델이 뭔가 잘못된 것이다.
도메인 전문가와 개발자가 논의하거나 다른 도메인 전문가와 논의할 때 이 언어를 사용하면 모델에서 요건에 적합하지 않거나 잘못된 부분을 금방 발견하게 된다.

때로는 여러 언어가 필요할 때도 있지만 도메인 전문가와 개발자 사이에 언어적 분열이 일어나서는 안 된다. 

UBIQUITOUS LANGUAGE가 마련되면 개발자 간의 대화, 도메인 전문가 간의 논의, 코드 자체에 포함된 표현까지 도메인 모델에서 비롯된 동일한 언어를 기반으로 한다.


## 문서와 다이어그램

간결하고 형식에 얽매이지 않은 UML 다이어그램은 논의의 구심점 역할을 할 수 있다.

사람들이 UML을 통해서만 전체 모델이나 설계를 전달해야 한다고 느낄 때 문제가 발생한다.
객체 모델 다이어그램은 지나치게 완전하면서 동시에 많은 부분이 생략되어 있다.

UML은 객체의 행위(behavior)와 제약조건(constraint)을 그리기에 수월하지 않다. 

다이어그램은 의사소통과 설명의 수단이며 브레인스토밍을 촉진한다.

설계의 세부사항은 코드에 담긴다. 잘 작성된 구현은 투명해서 설계를 지탱하는 모델을 드러내야 한다.
다이어그램과 문서는 보조적인 역할로, 핵심에 주의를 기울일 수 있게 한다. 

모델은 다이어그램이 아니라는 점을 명심해야 한다.


## 글로 쓴 설계 문서

#### 문서는 코드와 말을 보완하는 역할을 해야 한다

설계 문서로서의 코드에는 한계가 있다. 코드를 읽는 사람은 코드의 세부사항에 압도될 수 있고, 코드의 행위에 모호함이 없다고 해서 코드를 이해하는 것은 쉽지 않다.
문서는 코드가 이미 잘 하고 있는 것을 하려고 해서는 안 된다.
코드는 프로그램의 행위를 정확하게 규정한 명세에 해당한다.

문서들은 의미를 설명하고, 대규모 구조에 통찰력을 주며, 핵심 요소에 집중할 필요가 있다.

#### 문서는 유효한 상태를 유지하고 최신 내용을 담고 있어야 한다

모델의 개념을 설명하고, 코드의 세부사항을 파악하는 데 도움을 주며, 모델의 의도된 사용 방식에 통찰력을 주는 데 문서의 가치가 있다.

문서는 프로젝트 활동과 관련을 맺고 있어야 한다.

문서를 최소한으로 유지하고 코드와 대화를 보완하는 데 집중함으로써 문서는 프로젝트와 연관된 상태로 유지될 수 있다.
UBIQUITOUS LANGUAGE와 그것의 발전이 문서를 유효한 상태로 유지하고 프로젝트 활동과 결부되게 만드는 구심점으로 삼아라.


#### 실행 가능한 기반


## 설명을 위한 모델

모델은 도메인을 가르치는 도구로도 아주 유용할 수 있다. 설명을 위한 모델에서는 특정 주제에 맞게 훨씬 더 전달력이 높은 의사소통 방식을 마음껏 만들어낼 수 있다.

꼭 객체 모델이 설명을 위한 모델일 필요가 없고, 그렇지 않을 때가 일반적으로 좋다. 

